@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile viewport fixes */
:root {
  --vh: 1vh;
}

.fullscreen {
  min-height: calc(var(--vh) * 100);
}

@supports (height: 100dvh) {
  .fullscreen {
    min-height: 100dvh;
  }
}

.safe-padded {
  padding-top: calc(env(safe-area-inset-top) + 1rem);
  padding-right: calc(env(safe-area-inset-right) + 1rem);
  padding-bottom: calc(env(safe-area-inset-bottom) + 1rem);
  padding-left: calc(env(safe-area-inset-left) + 1rem);
}

/* Performance optimizations */
* {
  will-change: auto;
}

/* Prevent layout shifts */
img, video {
  height: auto;
  max-width: 100%;
}

/* Optimize scrolling performance */
html {
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
}

/* Cross-browser compatibility and mobile responsiveness */
@layer base {
  html {
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
    overflow-x: hidden;
    /* Ensure consistent rendering across browsers */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-smoothing: antialiased;
    /* Mobile-specific optimizations */
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-smoothing: antialiased;
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
    /* Prevent horizontal scroll on all browsers */
    position: relative;
    /* Ensure consistent box model */
    margin: 0;
    padding: 0;
    /* Ensure proper scrolling on mobile */
    -webkit-overflow-scrolling: touch;
    overflow-y: scroll;
    touch-action: manipulation;
  }
  
  * {
    box-sizing: border-box;
    /* Reset any browser-specific styles */
    -webkit-tap-highlight-color: transparent;
  }
  
  *, *::before, *::after {
    box-sizing: border-box;
  }
  
  /* Prevent iOS input zoom */
  input, select, textarea {
    font-size: 16px;
  }
  
  /* Ensure 44px touch targets */
  button, [role="button"], a.btn {
    min-height: 44px;
  }
  
  /* Fix for Firefox and other browsers */
  *:before,
  *:after {
    box-sizing: border-box;
  }
}

/* Additional mobile and browser compatibility fixes */
@layer utilities {
  .mobile-fix {
    -webkit-overflow-scrolling: touch;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Cross-browser compatibility utilities */
  .browser-compat {
    /* Ensure consistent rendering */
    -webkit-transform: translateZ(0);
    -moz-transform: translateZ(0);
    -ms-transform: translateZ(0);
    -o-transform: translateZ(0);
    transform: translateZ(0);
    
    /* Force hardware acceleration */
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    -ms-backface-visibility: hidden;
    backface-visibility: hidden;
  }
  
  /* Fix for Firefox flexbox issues */
  .firefox-fix {
    min-height: 0;
    min-width: 0;
  }
  
  /* Firefox-specific fixes */
  @-moz-document url-prefix() {
    .firefox-fix {
      /* Fix Firefox backdrop-filter issues */
      background-color: rgba(255, 255, 255, 0.95) !important;
    }
    
    /* Fix Firefox gradient rendering */
    .hero-gradient {
      background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 50%, #1d4ed8 100%) !important;
    }
    
    /* Fix Firefox button rendering */
    button {
      -moz-appearance: none;
      appearance: none;
    }
    
    /* Fix Firefox tabs component issues */
    [role="tablist"] {
      display: flex !important;
      flex-direction: row !important;
    }
    
    [role="tab"] {
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;
    }
    
    [role="tabpanel"] {
      display: block !important;
      width: 100% !important;
    }
    
    /* Fix Firefox card rendering */
    .card-gradient {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 250, 252, 0.9) 100%) !important;
    }
    
    /* Fix Firefox scroll animation issues */
    [data-scroll-animation] {
      opacity: 1 !important;
      transform: none !important;
    }
    
    /* Fix Firefox flexbox issues */
    .flex {
      display: -moz-box !important;
      display: -webkit-flex !important;
      display: flex !important;
    }
    
    /* Fix Firefox grid issues */
    .grid {
      display: -moz-grid !important;
      display: grid !important;
    }
  }
  
  /* Ensure consistent button behavior */
  button, a {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
}

/* IHSAN Healthcare Association Design System
Modern blue and white theme with professional medical aesthetics
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Core colors - Professional healthcare theme */
    --background: 210 25% 98%;
    --foreground: 215 25% 15%;

    --card: 0 0% 100%;
    --card-foreground: 215 25% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 215 25% 15%;

    /* Primary - Deep medical blue */
    --primary: 210 85% 35%;
    --primary-foreground: 0 0% 100%;
    --primary-hover: 210 85% 30%;

    /* Secondary - Light professional blue */
    --secondary: 210 40% 96%;
    --secondary-foreground: 215 25% 20%;

    /* Muted - Subtle grays */
    --muted: 210 15% 95%;
    --muted-foreground: 215 15% 50%;

    /* Accent - Healthcare teal */
    --accent: 185 60% 45%;
    --accent-foreground: 0 0% 100%;
    --accent-hover: 185 60% 40%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 215 20% 90%;
    --input: 215 20% 95%;
    --ring: 210 85% 35%;

    --radius: 0.75rem;
  
  

    /* Custom IHSAN gradients */
    --gradient-hero: linear-gradient(135deg, hsl(210 85% 35%) 0%, hsl(210 90% 25%) 50%, hsl(215 95% 20%) 100%);
    --gradient-card: linear-gradient(145deg, hsl(0 0% 100%) 0%, hsl(210 25% 98%) 100%);
    --gradient-accent: linear-gradient(135deg, hsl(185 60% 45%) 0%, hsl(210 85% 35%) 100%);
    
    /* Custom shadows */
    --shadow-card: 0 4px 20px -2px hsl(215 25% 15% / 0.08);
    --shadow-hover: 0 8px 30px -4px hsl(210 85% 35% / 0.15);
    --shadow-accent: 0 4px 20px -2px hsl(185 60% 45% / 0.20);

    /* Animation variables */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    /* Dark mode - Professional dark healthcare theme */
    --background: 215 30% 8%;
    --foreground: 210 25% 92%;

    --card: 215 25% 12%;
    --card-foreground: 210 25% 92%;

    --popover: 215 25% 12%;
    --popover-foreground: 210 25% 92%;

    --primary: 210 80% 55%;
    --primary-foreground: 215 30% 8%;
    --primary-hover: 210 80% 50%;

    --secondary: 215 20% 18%;
    --secondary-foreground: 210 25% 85%;

    --muted: 215 20% 15%;
    --muted-foreground: 215 15% 60%;

    --accent: 185 60% 50%;
    --accent-foreground: 215 30% 8%;
    --accent-hover: 185 60% 45%;

    --destructive: 0 75% 55%;
    --destructive-foreground: 0 0% 100%;

    --border: 215 20% 20%;
    --input: 215 20% 18%;
    --ring: 210 80% 55%;

    /* Dark mode gradients */
    --gradient-hero: linear-gradient(135deg, hsl(215 30% 8%) 0%, hsl(210 80% 25%) 50%, hsl(210 85% 35%) 100%);
    --gradient-card: linear-gradient(145deg, hsl(215 25% 12%) 0%, hsl(215 20% 15%) 100%);
    --gradient-accent: linear-gradient(135deg, hsl(185 60% 50%) 0%, hsl(210 80% 55%) 100%);
    
    /* Dark mode shadows */
    --shadow-card: 0 4px 20px -2px hsl(0 0% 0% / 0.25);
    --shadow-hover: 0 8px 30px -4px hsl(210 80% 55% / 0.25);
    --shadow-accent: 0 4px 20px -2px hsl(185 60% 50% / 0.30);
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Smooth scrolling handled above */
}

@layer components {
  /* Hero components */
  .hero-gradient {
    background: var(--gradient-hero);
  }

  .card-gradient {
    background: var(--gradient-card);
    box-shadow: var(--shadow-card);
    transition: var(--transition-smooth);
  }

  .card-gradient:hover {
    box-shadow: var(--shadow-hover);
    transform: translateY(-2px);
  }

  /* Button variants for IHSAN theme */
  .btn-hero {
    background: var(--gradient-accent);
    color: hsl(var(--accent-foreground));
    border: none;
    box-shadow: var(--shadow-accent);
    transition: var(--transition-bounce);
  }

  .btn-hero:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: var(--shadow-hover);
  }

  /* Text gradients */
  .text-gradient-primary {
    background: var(--gradient-accent);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Animations */
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-fade-up {
    animation: fadeUp 0.6s ease-out forwards;
    opacity: 0;
    transform: translateY(20px);
  }

  .animate-scale-in {
    animation: scaleIn 0.4s ease-out forwards;
    opacity: 0;
    transform: scale(0.95);
  }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

@keyframes fadeUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* ========================================
   MOBILE RESPONSIVENESS & DEVICE OPTIMIZATION
   ======================================== */

/* Mobile-first responsive typography */
@layer utilities {
  /* iPhone-specific breakpoints */
  @media screen and (max-width: 320px) {
    /* iPhone SE and smaller */
    .mobile-text-xs { font-size: 0.75rem; line-height: 1rem; }
    .mobile-text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .mobile-text-base { font-size: 1rem; line-height: 1.5rem; }
    .mobile-text-lg { font-size: 1.125rem; line-height: 1.75rem; }
    .mobile-text-xl { font-size: 1.25rem; line-height: 1.75rem; }
    .mobile-text-2xl { font-size: 1.5rem; line-height: 2rem; }
    .mobile-text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
    .mobile-text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
    .mobile-text-5xl { font-size: 2.5rem; line-height: 2.75rem; }
  }
  
  @media screen and (min-width: 321px) and (max-width: 375px) {
    /* iPhone 12/13/14 standard */
    .mobile-text-xs { font-size: 0.75rem; line-height: 1rem; }
    .mobile-text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .mobile-text-base { font-size: 1rem; line-height: 1.5rem; }
    .mobile-text-lg { font-size: 1.125rem; line-height: 1.75rem; }
    .mobile-text-xl { font-size: 1.25rem; line-height: 1.75rem; }
    .mobile-text-2xl { font-size: 1.5rem; line-height: 2rem; }
    .mobile-text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
    .mobile-text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
    .mobile-text-5xl { font-size: 2.75rem; line-height: 3rem; }
  }
  
  @media screen and (min-width: 376px) and (max-width: 414px) {
    /* iPhone 12/13/14 Pro Max */
    .mobile-text-xs { font-size: 0.75rem; line-height: 1rem; }
    .mobile-text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .mobile-text-base { font-size: 1rem; line-height: 1.5rem; }
    .mobile-text-lg { font-size: 1.125rem; line-height: 1.75rem; }
    .mobile-text-xl { font-size: 1.25rem; line-height: 1.75rem; }
    .mobile-text-2xl { font-size: 1.5rem; line-height: 2rem; }
    .mobile-text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
    .mobile-text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
    .mobile-text-5xl { font-size: 3rem; line-height: 3.25rem; }
  }
  
  @media screen and (min-width: 415px) and (max-width: 430px) {
    /* iPhone 15 Pro Max */
    .mobile-text-xs { font-size: 0.75rem; line-height: 1rem; }
    .mobile-text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .mobile-text-base { font-size: 1rem; line-height: 1.5rem; }
    .mobile-text-lg { font-size: 1.125rem; line-height: 1.75rem; }
    .mobile-text-xl { font-size: 1.25rem; line-height: 1.75rem; }
    .mobile-text-2xl { font-size: 1.5rem; line-height: 2rem; }
    .mobile-text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
    .mobile-text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
    .mobile-text-5xl { font-size: 3.25rem; line-height: 3.5rem; }
  }
  
  @media screen and (min-width: 431px) and (max-width: 500px) {
    /* iPhone 16 and newer models */
    .mobile-text-xs { font-size: 0.75rem; line-height: 1rem; }
    .mobile-text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .mobile-text-base { font-size: 1rem; line-height: 1.5rem; }
    .mobile-text-lg { font-size: 1.125rem; line-height: 1.75rem; }
    .mobile-text-xl { font-size: 1.25rem; line-height: 1.75rem; }
    .mobile-text-2xl { font-size: 1.5rem; line-height: 2rem; }
    .mobile-text-3xl { font-size: 1.875rem; line-height: 2.25rem; }
    .mobile-text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
    .mobile-text-5xl { font-size: 3.5rem; line-height: 3.75rem; }
  }
}

/* Mobile-specific layout fixes */
@layer components {
  /* Hero section mobile optimization */
  @media screen and (max-width: 768px) {
    .hero-mobile {
      min-height: 60vh !important;
      padding: 0.5rem !important;
      overflow: visible !important;
    }
    
    .hero-mobile h1 {
      font-size: clamp(1.25rem, 5vw, 2rem) !important;
      line-height: 1.1 !important;
      margin-bottom: 0.5rem !important;
    }
    
    .hero-mobile h1 span {
      font-size: clamp(1.25rem, 5vw, 2rem) !important;
    }
    
    .hero-mobile p {
      font-size: clamp(0.75rem, 3vw, 0.875rem) !important;
      line-height: 1.3 !important;
      margin-bottom: 0.25rem !important;
    }
    
    .hero-mobile .flex {
      flex-direction: column !important;
      gap: 0.25rem !important;
      align-items: center !important;
    }
    
    .hero-mobile .flex > div {
      margin: 0 !important;
    }
    
    .hero-mobile .w-px {
      display: none !important;
    }
    
    .hero-mobile .mb-8 {
      margin-bottom: 0.5rem !important;
    }
    
    .hero-mobile .mb-4 {
      margin-bottom: 0.25rem !important;
    }
  }
  
  /* iPhone 16 Pro Max specific (430px width) */
  @media screen and (min-width: 430px) and (max-width: 500px) {
    .hero-mobile h1 {
      font-size: clamp(1.5rem, 5.5vw, 2.25rem) !important;
    }
    
    .hero-mobile h1 span {
      font-size: clamp(1.5rem, 5.5vw, 2.25rem) !important;
    }
    
    .hero-mobile p {
      font-size: clamp(0.875rem, 3.5vw, 1rem) !important;
    }
  }
  
  /* Mobile-specific text overrides - only for mobile classes */
  @media screen and (max-width: 768px) {
    .mobile-h1 {
      font-size: clamp(1.5rem, 6vw, 2.5rem) !important;
      line-height: 1.1 !important;
    }
    
    .mobile-h2 {
      font-size: clamp(1.25rem, 5vw, 2rem) !important;
      line-height: 1.2 !important;
    }
    
    .mobile-h3 {
      font-size: clamp(1.125rem, 4vw, 1.5rem) !important;
      line-height: 1.3 !important;
    }
    
    .mobile-p {
      font-size: clamp(0.875rem, 3.5vw, 1rem) !important;
      line-height: 1.4 !important;
    }
    
    .mobile-text-5xl {
      font-size: clamp(1.5rem, 6vw, 2.5rem) !important;
    }
    
    .mobile-text-4xl {
      font-size: clamp(1.25rem, 5vw, 2rem) !important;
    }
    
    .mobile-text-3xl {
      font-size: clamp(1.125rem, 4vw, 1.5rem) !important;
    }
    
    .mobile-text-2xl {
      font-size: clamp(1rem, 3.5vw, 1.25rem) !important;
    }
    
    .mobile-text-xl {
      font-size: clamp(0.875rem, 3vw, 1.125rem) !important;
    }
    
    .mobile-text-lg {
      font-size: clamp(0.75rem, 2.5vw, 1rem) !important;
    }
  }
  
  /* Specific overrides for Index page elements - mobile only */
  @media screen and (max-width: 768px) {
    /* Hero section specific overrides */
    .hero-mobile h1 span {
      font-size: clamp(1.25rem, 5vw, 2rem) !important;
    }
    
    /* Mission section overrides */
    .section-mobile h2 {
      font-size: clamp(1.25rem, 5vw, 2rem) !important;
    }
    
    .section-mobile p {
      font-size: clamp(0.875rem, 3.5vw, 1rem) !important;
    }
    
    /* Button overrides */
    .btn-mobile-lg {
      font-size: clamp(0.875rem, 3vw, 1rem) !important;
      padding: 0.75rem 1.5rem !important;
    }
    
    /* Card overrides */
    .card-mobile h3 {
      font-size: clamp(1rem, 3.5vw, 1.125rem) !important;
    }
    
    .card-mobile p {
      font-size: clamp(0.75rem, 2.5vw, 0.875rem) !important;
    }
  }
  
  /* Card mobile optimization */
  @media screen and (max-width: 768px) {
    .card-mobile {
      padding: 1rem !important;
      margin: 0.5rem !important;
    }
    
    .card-mobile h3 {
      font-size: 1.125rem !important;
      line-height: 1.4 !important;
    }
    
    .card-mobile p {
      font-size: 0.875rem !important;
      line-height: 1.3 !important;
    }
  }
  
  /* Button mobile optimization */
  @media screen and (max-width: 768px) {
    .btn-mobile {
      min-height: 44px !important;
      padding: 0.75rem 1.5rem !important;
      font-size: 1rem !important;
      line-height: 1.4 !important;
    }
    
    .btn-mobile-lg {
      min-height: 48px !important;
      padding: 1rem 2rem !important;
      font-size: 1.125rem !important;
      line-height: 1.4 !important;
    }
  }
  
  /* Navigation mobile optimization */
  @media screen and (max-width: 768px) {
    .nav-mobile {
      padding: 0.75rem 1rem !important;
    }
    
    .nav-mobile .logo {
      height: 2rem !important;
      width: auto !important;
    }
    
    .nav-mobile .text {
      font-size: 1rem !important;
    }
  }
  
  /* Section mobile optimization */
  @media screen and (max-width: 768px) {
    .section-mobile {
      padding: 2rem 1rem !important;
    }
    
    .section-mobile h2 {
      font-size: clamp(1.5rem, 6vw, 2.5rem) !important;
      line-height: 1.2 !important;
      margin-bottom: 1rem !important;
    }
    
    .section-mobile p {
      font-size: clamp(0.875rem, 4vw, 1.125rem) !important;
      line-height: 1.4 !important;
      margin-bottom: 0.75rem !important;
    }
  }
  
  /* Grid mobile optimization */
  @media screen and (max-width: 768px) {
    .grid-mobile {
      grid-template-columns: 1fr !important;
      gap: 1rem !important;
    }
    
    .grid-mobile-2 {
      grid-template-columns: repeat(2, 1fr) !important;
      gap: 0.75rem !important;
    }
  }
}

/* Safe area insets for iPhone notches */
@supports (padding: max(0px)) {
  .safe-area-top {
    padding-top: max(1rem, env(safe-area-inset-top));
  }
  
  .safe-area-bottom {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
  
  .safe-area-left {
    padding-left: max(1rem, env(safe-area-inset-left));
  }
  
  .safe-area-right {
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* Touch-friendly interactions */
@media (hover: none) and (pointer: coarse) {
  .touch-friendly {
    min-height: 44px;
    min-width: 44px;
  }
  
  .touch-friendly:hover {
    transform: none !important;
  }
  
  .touch-friendly:active {
    transform: scale(0.95) !important;
  }
}

/* Prevent zoom on input focus (iOS) */
@media screen and (max-width: 768px) {
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  textarea,
  select {
    font-size: 16px !important;
  }
}

/* Android-specific fixes */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  .android-fix {
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
}

/* iOS-specific fixes */
@supports (-webkit-touch-callout: none) {
  .ios-fix {
    -webkit-overflow-scrolling: touch;
  }
}

/* Mobile scrolling optimization */
@media screen and (max-width: 768px) {
  /* Ensure proper scrolling on mobile */
  html, body {
    overflow-x: hidden;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Remove conflicting overflow rules */
  main, section {
    overflow: visible;
  }
}